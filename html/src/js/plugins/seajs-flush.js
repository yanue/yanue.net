!function(n){function e(n){return u(n)||t(n)||o(n)}function t(n){return!l&&n.status===a.STATUS.SAVED}function u(n){return 0===n.dependencies.length}function o(e){if(s.test(e.uri))return!0;for(var t in e._waitings)if(o(n.cache[t]))return!0;return!1}function r(n){for(var e,t=[],u={},o=0,r=n.length;r>o;o++)e=n[o],e&&!u[e]&&(u[e]=!0,t.push(e));return t}var a=n.Module,c=a.prototype.load,f=n.data,i=f.flushStack=[],l=!1;a.prototype.load=function(){var n=this;e(n)?c.call(n):i.push(n)},n.use=function(e,t){return a.use(e,t,f.cwd+"_use_"+f.cid()),n},n.flush=function(){var n=i.length;if(0!==n){for(var e=i.splice(0,n),t=[],u=0;n>u;u++)t=t.concat(e[u].resolve());t=r(t);var o=a.get(f.cwd+"_flush_"+f.cid(),t);o.load=c,o.callback=function(){for(var t=0;n>t;t++)e[t].onload();delete o.callback},a.preload(function(){o.load()})}},n.on("request",function(e){var t=e.onRequest;e.onRequest=function(){l=!0,t(),l=!1,n.flush()}}),n.on("exec",function(){n.flush()});var s=/\/_preload_\d+$/;define("seajs-flush",[],{})}(seajs);