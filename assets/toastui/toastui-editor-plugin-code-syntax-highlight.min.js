/*!
 * TOAST UI Editor : Code Syntax Highlight Plugin
 * @version 3.1.0 | Fri Sep 02 2022
 * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.toastui=e():(t.toastui=t.toastui||{},t.toastui.Editor=t.toastui.Editor||{},t.toastui.Editor.plugin=t.toastui.Editor.plugin||{},t.toastui.Editor.plugin.codeSyntaxHighlight=e())}(self,(function(){return function(){"use strict";var t={928:function(t,e,n){var i=n(322);t.exports=function(t,e,n){var o,a;if(n=n||0,!i(e))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t,n);for(a=e.length,o=n;n>=0&&o<a;o+=1)if(e[o]===t)return o;return-1}},690:function(t,e,n){var i=n(322),o=n(893),a=n(956);t.exports=function(t,e,n){i(t)?o(t,e,n):a(t,e,n)}},893:function(t){t.exports=function(t,e,n){var i=0,o=t.length;for(n=n||null;i<o&&!1!==e.call(n,t[i],i,t);i+=1);}},956:function(t){t.exports=function(t,e,n){var i;for(i in n=n||null,t)if(t.hasOwnProperty(i)&&!1===e.call(n,t[i],i,t))break}},990:function(t,e,n){var i=n(893);t.exports=function(t){var e;try{e=Array.prototype.slice.call(t)}catch(n){e=[],i(t,(function(t){e.push(t)}))}return e}},24:function(t,e,n){var i=n(322),o=n(929);t.exports=function(t,e){e=(e=i(e)?e.join(" "):e).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),o(t.className.baseVal)?t.className=e:t.className.baseVal=e}},204:function(t,e,n){var i=n(690),o=n(928),a=n(902),r=n(24);t.exports=function(t){var e,n=Array.prototype.slice.call(arguments,1),s=t.classList,u=[];s?i(n,(function(e){t.classList.add(e)})):((e=a(t))&&(n=[].concat(e.split(/\s+/),n)),i(n,(function(t){o(t,u)<0&&u.push(t)})),r(t,u))}},522:function(t,e,n){var i=n(758),o=n(690);t.exports=function(t,e,n){var a=t.style;i(e)?a[e]=n:o(e,(function(t,e){a[e]=t}))}},902:function(t,e,n){var i=n(929);t.exports=function(t){return t&&t.className?i(t.className.baseVal)?t.className:t.className.baseVal:""}},714:function(t,e,n){var i=n(928),o=n(902);t.exports=function(t,e){var n;return t.classList?t.classList.contains(e):(n=o(t).split(/\s+/),i(e,n)>-1)}},462:function(t,e,n){var i=n(893),o=n(928),a=n(902),r=n(24);t.exports=function(t){var e,n,s=Array.prototype.slice.call(arguments,1),u=t.classList;u?i(s,(function(t){u.remove(t)})):(e=a(t).split(/\s+/),n=[],i(e,(function(t){o(t,s)<0&&n.push(t)})),r(t,n))}},322:function(t){t.exports=function(t){return t instanceof Array}},294:function(t){t.exports=function(t){return t instanceof Function}},758:function(t){t.exports=function(t){return"string"==typeof t||t instanceof String}},929:function(t){t.exports=function(t){return void 0===t}}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var a=e[i]={exports:{}};return t[i](a,a.exports,n),a.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var i={};return function(){n.d(i,{default:function(){return N}});var t=n(294),e=n.n(t);var o=n(758),a=n.n(o);function r(t){return t.reduce((function(t,e){return t.concat(Array.isArray(e)?r(e):e)}),[])}var s=function(t,e,n){if(n||2===arguments.length)for(var i,o=0,a=e.length;o<a;o++)!i&&o in e||(i||(i=Array.prototype.slice.call(e,0,o)),i[o]=e[o]);return t.concat(i||Array.prototype.slice.call(e))};function u(t,e){return void 0===e&&(e=[]),a()(t)?[{text:t,classes:e}]:t.map((function(t){var n=t,i=n.type,o=n.alias,r=[],c=[];i&&(r=["token",i]),o&&(c=a()(o)?[o]:o);var l=s(s(s([],e,!0),r,!0),c,!0);return a()(t)?{text:t,classes:l}:u(t.content,l)}))}function c(t,e,n){var i=e.pmView,o=[],a=function(t){var e=[];return t.descendants((function(t,n){t.isBlock&&"codeBlock"===t.type.name&&e.push({node:t,pos:n})})),e}(t);return a.forEach((function(t){var e=t.pos,a=t.node,s=a.attrs.language,c=n.languages[s],l=r(u(c?n.tokenize(a.textContent,c):[])),g=e+1;l.forEach((function(t){var e=t.text,n=t.classes,a=g,r=a+e.length;g=r;var s=n.join(" "),u=i.Decoration.inline(a,r,{class:s});s.length&&o.push(u)}))})),i.DecorationSet.create(t,o)}var l=n(204),g=n.n(l);function p(t){return parseInt(t,10)}var h="toastui-editor-";function d(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.map((function(t){return"".concat(h).concat(t)})).join(" ")}var f=n(522),v=n.n(f),m=n(462),y=n.n(m),E=n(714),L=n.n(E),w=n(990),x=n.n(w),b=n(928),B=n.n(b),k="data-language";var S=function(){function t(t,e,n){var i=this;this.buttons=[],this.prevStoredLanguage="",this.onSelectToggleButton=function(t){var e=t.target;(function(t,e,n){var i=p(t.left),o=p(t.top),a=p(t.width)+p(t.paddingLeft)+p(t.paddingRight),r=p(t.height)+p(t.paddingTop)+p(t.paddingBottom);return e>=i&&e<=i+a&&n>=o&&n<=o+r})(getComputedStyle(e,":after"),t.offsetX,t.offsetY)&&(t.preventDefault(),i.toggleFocus())},this.onSelectLanguageButtons=function(t){var e=t.target.getAttribute(k);e&&i.selectLanguage(e)},this.handleKeydown=function(t){var e=t.key;"ArrowUp"===e?(i.selectPrevLanguage(),t.preventDefault()):"ArrowDown"===e?(i.selectNextLanguage(),t.preventDefault()):"Enter"===e||"Tab"===e?(i.storeInputLanguage(),t.preventDefault()):i.hideList()},this.showLangugaeSelectBox=function(t,e){var n=t.top,o=t.right;e&&i.setLanguage(e),i.show();var a=i.input.parentElement.getBoundingClientRect().width;v()(i.wrapper,{top:"".concat(n+10,"px"),left:"".concat(o-a-10,"px")}),i.toggleFocus()},this.rootEl=t,this.eventEmitter=e,this.languages=n,this.createElement(),this.bindDOMEvent(),this.bindEvent()}return t.prototype.createElement=function(){this.wrapper=document.createElement("div"),g()(this.wrapper,d("code-block-language")),this.createInputElement(),this.createLanguageListElement(),this.rootEl.appendChild(this.wrapper),this.hide()},t.prototype.createInputElement=function(){var t=document.createElement("span");g()(t,d("code-block-language-input"));var e=document.createElement("input");e.type="text",e.setAttribute("maxlength","20"),this.input=e,t.appendChild(this.input),this.wrapper.appendChild(t)},t.prototype.createLanguageListElement=function(){this.list=document.createElement("div"),g()(this.list,d("code-block-language-list"));var t=document.createElement("div");g()(t,"buttons"),t.innerHTML=this.languages.map((function(t){return'<button type="button" data-language="'.concat(t,'">').concat(t,"</button>")})).join(""),this.buttons=x()(t.children),this.list.appendChild(t),this.wrapper.appendChild(this.list),this.activateButtonByIndex(0),this.hideList()},t.prototype.bindDOMEvent=function(){var t=this;this.wrapper.addEventListener("mousedown",this.onSelectToggleButton),this.input.addEventListener("keydown",this.handleKeydown),this.input.addEventListener("focus",(function(){return t.activateSelectBox()})),this.input.addEventListener("blur",(function(){return t.inactivateSelectBox()})),this.list.addEventListener("mousedown",this.onSelectLanguageButtons)},t.prototype.bindEvent=function(){this.eventEmitter.listen("showCodeBlockLanguages",this.showLangugaeSelectBox)},t.prototype.activateSelectBox=function(){g()(this.wrapper,"active"),v()(this.list,{display:"block"})},t.prototype.inactivateSelectBox=function(){this.input.value=this.prevStoredLanguage,y()(this.wrapper,"active"),this.hideList()},t.prototype.toggleFocus=function(){L()(this.wrapper,"active")?this.input.blur():this.input.focus()},t.prototype.storeInputLanguage=function(){var t=this.input.value;this.setLanguage(t),this.hideList(),this.eventEmitter.emit("selectLanguage",t)},t.prototype.activateButtonByIndex=function(t){this.currentButton&&y()(this.currentButton,"active"),this.buttons.length&&(this.currentButton=this.buttons[t],this.input.value=this.currentButton.getAttribute(k),g()(this.currentButton,"active"),this.currentButton.scrollIntoView())},t.prototype.selectLanguage=function(t){this.input.value=t,this.storeInputLanguage()},t.prototype.selectPrevLanguage=function(){var t=B()(this.currentButton,this.buttons)-1;t<0&&(t=this.buttons.length-1),this.activateButtonByIndex(t)},t.prototype.selectNextLanguage=function(){var t=B()(this.currentButton,this.buttons)+1;t>=this.buttons.length&&(t=0),this.activateButtonByIndex(t)},t.prototype.hideList=function(){v()(this.list,{display:"none"})},t.prototype.show=function(){v()(this.wrapper,{display:"inline-block"})},t.prototype.hide=function(){v()(this.wrapper,{display:"none"})},t.prototype.setLanguage=function(t){this.prevStoredLanguage=t,this.input.value=t;var e=this.buttons.filter((function(e){return e.getAttribute(k)===t}));if(e.length){var n=B()(e[0],this.buttons);this.activateButtonByIndex(n)}},t.prototype.destroy=function(){var t;(t=this.wrapper).parentNode&&t.parentNode.removeChild(t),this.eventEmitter.removeEventHandler("showCodeBlockLanguages",this.showLangugaeSelectBox)},t}(),A=function(){return A=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},A.apply(this,arguments)};var C=function(){function t(t,n,i,o,a){var r=this;this.node=t,this.view=n,this.getPos=i,this.eventEmitter=o,this.languages=a,this.contentDOM=null,this.languageSelectBox=null,this.onSelectLanguage=function(t){r.languageEditing&&r.changeLanguage(t)},this.onClickEditingButton=function(t){var n=t.target;if("none"!==getComputedStyle(n,":after").backgroundImage&&e()(r.getPos)){var i=r.view.coordsAtPos(r.getPos());r.openLanguageSelectBox(i)}},this.finishLanguageEditing=function(){r.languageEditing&&r.reset()},this.node=t,this.view=n,this.getPos=i,this.eventEmitter=o,this.languageEditing=!1,this.languages=a,this.createElement(),this.bindDOMEvent(),this.bindEvent()}return t.prototype.createElement=function(){var t=this.node.attrs.language,e=document.createElement("div");e.setAttribute("data-language",t||"text"),g()(e,d("ww-code-block-highlighting"));var n=this.createCodeBlockElement(),i=n.firstChild;t&&(g()(n,"language-".concat(t)),g()(i,"language-".concat(t))),e.appendChild(n),this.dom=e,this.contentDOM=i},t.prototype.createCodeBlockElement=function(){var t=document.createElement("pre"),e=document.createElement("code"),n=this.node.attrs.language,i=function(t){var e=t.htmlAttrs,n=t.classNames;return A(A({},e),{class:n?n.join(" "):null})}(this.node.attrs);return n&&e.setAttribute("data-language",n),Object.keys(i).forEach((function(e){i[e]&&t.setAttribute(e,i[e])})),t.appendChild(e),t},t.prototype.bindDOMEvent=function(){this.dom&&(this.dom.addEventListener("click",this.onClickEditingButton),this.view.dom.addEventListener("mousedown",this.finishLanguageEditing),window.addEventListener("resize",this.finishLanguageEditing))},t.prototype.bindEvent=function(){this.eventEmitter.listen("selectLanguage",this.onSelectLanguage),this.eventEmitter.listen("scroll",this.finishLanguageEditing),this.eventEmitter.listen("finishLanguageEditing",this.finishLanguageEditing)},t.prototype.openLanguageSelectBox=function(t){this.languageSelectBox=new S(this.view.dom.parentElement,this.eventEmitter,this.languages),this.eventEmitter.emit("showCodeBlockLanguages",t,this.node.attrs.language),this.languageEditing=!0},t.prototype.changeLanguage=function(t){if(e()(this.getPos)){this.reset();var n=this.getPos(),i=this.view.state.tr;i.setNodeMarkup(n,null,{language:t}),this.view.dispatch(i)}},t.prototype.reset=function(){this.languageSelectBox&&(this.languageSelectBox.destroy(),this.languageSelectBox=null),this.languageEditing=!1},t.prototype.stopEvent=function(){return!0},t.prototype.update=function(t){return!!t.sameMarkup(this.node)&&(this.node=t,!0)},t.prototype.destroy=function(){this.reset(),this.dom&&(this.dom.removeEventListener("click",this.onClickEditingButton),this.view.dom.removeEventListener("mousedown",this.finishLanguageEditing),window.removeEventListener("resize",this.finishLanguageEditing)),this.eventEmitter.removeEventHandler("selectLanguage",this.onSelectLanguage),this.eventEmitter.removeEventHandler("scroll",this.finishLanguageEditing),this.eventEmitter.removeEventHandler("finishLanguageEditing",this.finishLanguageEditing)},t}();void 0!==typeof window&&(window.Prism=window.Prism||{},window.Prism.manual=!0);var N=function(t,n){if(n){var i=t.eventEmitter,o=n.highlighter;i.addEventType("showCodeBlockLanguages"),i.addEventType("selectLanguage"),i.addEventType("finishLanguageEditing");var a=o.languages,r=Object.keys(a).filter((function(t){return!e()(a[t])}));return{toHTMLRenderers:(u=o,{codeBlock:function(t){var e=t,n=e.fenceLength,i=e.info,o=i?i.split(/\s+/):[],a=[],r={};n>3&&(r["data-backticks"]=n);var s=t.literal;if(o.length&&o[0].length){var c=o[0];a.push("lang-".concat(c)),r["data-language"]=c;var l=u.languages[c];l&&(s=u.highlight(t.literal,l,c))}return[{type:"openTag",tagName:"pre",classNames:a},{type:"openTag",tagName:"code",attributes:r},{type:"html",content:s},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]}}),wysiwygPlugins:[function(){return function(t,e){return new t.pmState.Plugin({state:{init:function(n,i){return c(i.doc,t,e)},apply:function(n,i){return n.docChanged?c(n.doc,t,e):i.map(n.mapping,n.doc)}},props:{decorations:function(t){return this.getState(t)}}})}(t,o)}],wysiwygNodeViews:{codeBlock:(s=r,function(t,e,n,i){return new C(t,e,n,i,s)})}}}var s,u;return{}}}(),i=i.default}()}));