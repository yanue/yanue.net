!function(e,r){function n(e){u[e.name]=e}function t(e){return e&&u.hasOwnProperty(e)}function a(e){for(var r in u)if(t(r)){var n=","+u[r].ext.join(",")+",";if(n.indexOf(","+e+",")>-1)return r}}function o(e,n){var t=r.ActiveXObject?new r.ActiveXObject("Microsoft.XMLHTTP"):new r.XMLHttpRequest;return t.open("GET",e,!0),t.onreadystatechange=function(){if(4===t.readyState){if(t.status>399&&t.status<600)throw new Error("Could not load: "+e+", status = "+t.status);n(t.responseText)}},t.send(null)}function s(e){e&&/\S/.test(e)&&(r.execScript||function(e){(r.eval||eval).call(r,e)})(e)}function c(e){return e.replace(/(["\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")}function i(e){return e.replace(/\?.*$/,"")}var u={},l={};n({name:"text",ext:[".tpl",".html"],exec:function(e,r){s('define("'+e+'#", [], "'+c(r)+'")')}}),n({name:"json",ext:[".json"],exec:function(e,r){s('define("'+e+'#", [], '+r+")")}}),n({name:"handlebars",ext:[".handlebars"],exec:function(e,r){var n=['define("'+e+'#", ["handlebars"], function(require, exports, module) {','  var source = "'+c(r)+'"','  var Handlebars = require("handlebars")',"  module.exports = function(data, options) {","    var helpers = (options || {}).helpers || {}","    for (var key in helpers) {","      Handlebars.registerHelper(key, helpers[key])","    }","    return Handlebars.compile(source)(data)","  }","})"].join("\n");s(n)}}),e.on("resolve",function(r){var n=r.id;if(!n)return"";var o,s;(s=n.match(/^(\w+)!(.+)$/))&&t(s[1])&&(o=s[1],n=s[2]);var c=e.resolve(n,r.refUri),i=c.replace(/\.(?:js|css)(\?|$)/,"$1");!o&&(s=i.match(/[^?]+(\.\w+)(?:\?|$)/))&&(o=a(s[1])),o&&(c=c.replace(/\.js(?=$|\?)/,""),l[c]=o),r.uri=c}),e.on("request",function(e){var r=l[e.uri];r&&(o(e.requestUri,function(n){u[r].exec(e.uri,n),e.onRequest()}),e.requested=!0)}),"object"==typeof process&&(o=function(e,r){r(require("fs").readFileSync(i(e),"utf8"))}),define("seajs-text",[],{})}(seajs,this);